<!DOCTYPE html>
<html>
<head>
    <title>AngularJS Challenge V2</title>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
</head>
<body>

    <div ng-form="Search" ng-app="myApp" ng-controller="MyCtrl">
        <table>
            <tr><td>Filter by First Name:</td><td> <input type="text" ng-model="firstName"></td></tr>
            <tr><td>Filter by Last Name:</td><td> <input type="text" ng-model="lastName"></td></tr>
            <tr><td>Filter by City:</td><td> <input type="text" ng-model="city"></td></tr>
            <tr><td>Filter by State Code:</td><td> <input type="text" ng-model="stateCode"></td></tr>
        </table>
            <div><a href="#" ng-click="findPeople('ncarb.org/Public/api/certification/search',firstName,lastName,city,stateCode)">[Find People]</a></div>
        </div>
</body>
</html>
    <script>
        angular.module("myApp", []).controller("MyCtrl", ["$scope", "$window", function ($scope, $window) {
            $scope.findPeople = function (url, parameter1, parameter2, parameter3, parameter4) {
                if (!parameter1) {
                    parameter1 = ''
                }
                if (!parameter2) {
                    parameter2 = ''
                }
                if (!parameter3) {
                    parameter3 = ''
                }
                if (!parameter4) {
                    parameter4 = ''
                }
                $window.open("https://my." + url + "?firstName=" + parameter1 + "&lastName=" + parameter2 + "&city=" + parameter3 + "&stateCode=" + parameter4 + "&pageSize=20");

            };
        }])
    </script>







